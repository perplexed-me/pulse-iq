# Fast Development Dockerfile - No multi-stage, minimal setup
FROM eclipse-temurin:21-jdk-jammy

WORKDIR /app

# Install Maven
RUN apt-get update && \
    apt-get install -y maven curl && \
    rm -rf /var/lib/apt/lists/*

# Copy all source files
COPY . .

# Expose port
EXPOSE 8085

# Add health check
HEALTHCHECK --interval=30s --timeout=15s --start-period=90s --retries=3 \
    CMD curl -f http://localhost:8085/actuator/health || exit 1

# Run with Maven Spring Boot plugin for hot reload
CMD ["mvn", "spring-boot:run", "-Dspring-boot.run.profiles=dev"]
